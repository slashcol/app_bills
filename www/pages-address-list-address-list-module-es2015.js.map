{"version":3,"sources":["./src/app/pages/address-list/address-list.module.ts","./src/app/pages/address-list/address-list.ts","./src/app/pages/address-list/address-list.html"],"names":[],"mappings":"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","file":"pages-address-list-address-list-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { AddressListPage } from './address-list';\nimport { SharedModule } from '../../shared.module';\nimport { AddressAddPageModule } from '../address-add/address-add.module';\n\n@NgModule({\n  declarations: [\n    AddressListPage,\n  ],\n  imports: [\n    RouterModule.forChild([\n      {\n        path: '',\n        component: AddressListPage\n      }\n    ]),\n    SharedModule,\n    AddressAddPageModule\n  ],\n})\nexport class AddressListPageModule {}\n","import { Component, Injector } from '@angular/core';\nimport { BasePage } from '../base-page/base-page';\nimport { CustomerAddress } from '../../services/customer-address';\nimport { AddressAddPage } from '../address-add/address-add';\n\n@Component({\n  selector: 'page-address-list',\n  templateUrl: 'address-list.html',\n  styleUrls: ['address-list.scss']\n})\nexport class AddressListPage extends BasePage {\n\n  public addresses: CustomerAddress[] = [];\n\n  constructor(injector: Injector,\n    private customerAddressService: CustomerAddress) {\n    super(injector);\n  }\n\n  enableMenuSwipe() {\n    return false;\n  }\n\n  async ionViewDidEnter() {\n\n    if (!this.addresses.length) {\n      this.showLoadingView({ showOverlay: false });\n      this.loadData();\n    }\n\n    const title = await this.getTrans('ADDRESSES');\n    this.setPageTitle(title);\n\n    this.setMetaTags({\n      title: title\n    });\n    \n  }\n\n  async loadData(event: any = {}) {\n\n    try {\n\n      this.refresher = event.target;\n  \n      this.addresses = await this.customerAddressService.load();\n      \n      if (this.addresses.length) {\n        this.showContentView();\n      } else {\n        this.showEmptyView();\n      }\n\n      this.onRefreshComplete();\n      \n    } catch (error) {\n      this.showErrorView();\n      this.onRefreshComplete();\n      this.translate.get('ERROR_NETWORK').subscribe((str) => this.showToast(str));\n    }\n  }\n\n  async onDeleteAddress(address: CustomerAddress) {\n\n    try {\n\n      const str = await this.translate.get('DELETE_CONFIRMATION').toPromise();\n\n      const res = await this.showConfirm(str);\n\n      if (!res) return;\n  \n      await this.showLoadingView({ showOverlay: false });\n  \n      await address.destroy();\n  \n      let index = this.addresses.indexOf(address);\n      if (index !== -1) this.addresses.splice(index, 1);\n\n      if (this.addresses.length) {\n        this.showContentView();\n      } else {\n        this.showEmptyView();\n      }\n      \n      this.translate.get('DELETED').subscribe(str => this.showToast(str));\n      \n    } catch (error) {\n      this.showContentView();\n      this.translate.get('ERROR_NETWORK').subscribe(str => this.showToast(str));\n    }\n\n  }\n\n  async onAddButtonTouched() {\n\n    await this.showLoadingView({ showOverlay: true });\n    \n    const modal = await this.modalCtrl.create({\n      component: AddressAddPage\n    });\n    \n    await modal.present();\n\n    this.dismissLoadingView();\n\n    const { data } = await modal.onWillDismiss();\n    \n    if (data) {\n      this.addresses.unshift(data);\n      this.showContentView();\n    }\n  }\n\n}\n","<ion-header class=\"ion-no-border\">\n\n  <ion-toolbar fixed>\n    <ion-buttons slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n    <ion-title>{{ 'ADDRESSES' | translate }}</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"onAddButtonTouched()\">\n        <ion-icon name=\"add\" slot=\"icon-only\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n\n</ion-header>\n\n<ion-content>\n\n  <ion-refresher slot=\"fixed\" (ionRefresh)=\"loadData($event)\">\n    <ion-refresher-content pullingText=\"{{ 'PULL_TO_REFRESH' | translate }}\"\n      refreshingText=\"{{ 'REFRESHING' | translate }}\">\n    </ion-refresher-content>\n  </ion-refresher>\n\n  <ion-grid fixed>\n\n    <empty-view *ngIf=\"isErrorViewVisible\" icon=\"alert-circle-outline\" [text]=\"'ERROR_DATA' | translate\">\n    </empty-view>\n\n    <empty-view *ngIf=\"isEmptyViewVisible\" image=\"./assets/imgs/undraw_address_udes.svg\" imageWidth=\"120\"\n      [text]=\"'EMPTY_ADDRESSES' | translate\">\n    </empty-view>\n\n    <ion-row class=\"ion-justify-content-center\" *ngIf=\"isContentViewVisible\">\n      <ion-col size-xs=\"12\" size-lg=\"9\">\n        <ion-list lines=\"none\" class=\"ion-margin-top\">\n          <ion-item class=\"radius ion-text-wrap ion-margin-bottom\" color=\"light\" *ngFor=\"let address of addresses\">\n            <ion-icon name=\"pin\" color=\"primary\" slot=\"start\"></ion-icon>\n            <ion-label>\n              <h2 class=\"bold\">{{ address.name }}</h2>\n              <p>{{ address }}</p>\n              <p>{{ 'CONTACT_PHONE' | translate }}: {{ address.phone }}</p>\n              <ion-badge class=\"text-small\" color=\"primary\" *ngIf=\"address.isDefault\">\n                {{ 'DEFAULT' | translate }}\n              </ion-badge>\n            </ion-label>\n            <ion-button fill=\"clear\" color=\"dark\" slot=\"end\" (click)=\"onDeleteAddress(address)\">\n              {{ 'DELETE' | translate }}</ion-button>\n          </ion-item>\n        </ion-list>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-margin-vertical ion-justify-content-center\" *ngIf=\"isLoadingViewVisible\">\n      <ion-col size-xs=\"12\" size-lg=\"9\">\n        <ngx-skeleton-loader count=\"12\" [theme]=\"{ 'border-radius': '0', height: '60px' }\">\n        </ngx-skeleton-loader>\n      </ion-col>\n    </ion-row>\n\n  </ion-grid>\n\n</ion-content>"],"sourceRoot":"webpack:///"}