{"version":3,"sources":["webpack:///src/app/pages/favorite/favorite.module.ts","webpack:///src/app/pages/favorite/favorite.html","webpack:///src/app/pages/favorite/favorite.ts"],"names":["FavoritePageModule","forChild","path","component","declarations","imports","FavoritePage","injector","itemService","params","likes","page","limit","items","skeletonArray","Array","contentLoaded","loadAndScroll","content","ionScroll","length","showLoadingView","showOverlay","loadData","getTrans","title","setPageTitle","setMetaTags","load","item","push","showContentView","showEmptyView","onRefreshComplete","setTimeout","next","showErrorView","translate","get","subscribe","str","showToast","ev","val","target","value","canonical","trim","toLowerCase","tag","event","refresher","infiniteScroll","index","id","onSearchCleared","onSearch","onRefresh","opacity","transform","optional","selector","templateUrl","styleUrls","animations"],"mappings":"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","file":"pages-favorite-favorite-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { FavoritePage } from './favorite';\nimport { SharedModule } from '../../shared.module';\n\n@NgModule({\n  declarations: [\n    FavoritePage,\n  ],\n  imports: [\n    RouterModule.forChild([\n      {\n        path: '',\n        component: FavoritePage\n      }\n    ]),\n    SharedModule,\n  ],\n})\nexport class FavoritePageModule {}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar fixed>\n    <ion-buttons slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n    <ion-searchbar mode=\"ios\" placeholder=\"\" (ionClear)=\"onSearchCleared()\" (keyup.enter)=\"onSearch($event)\">\n    </ion-searchbar>\n  </ion-toolbar>\n\n</ion-header>\n\n<ion-content #container scrollEvents=\"true\">\n\n  <ion-refresher slot=\"fixed\" (ionRefresh)=\"onRefresh($event)\">\n    <ion-refresher-content pullingText=\"{{ 'PULL_TO_REFRESH' | translate }}\"\n      refreshingText=\"{{ 'REFRESHING' | translate }}\">\n    </ion-refresher-content>\n  </ion-refresher>\n\n  <ion-grid fixed>\n\n    <empty-view *ngIf=\"isErrorViewVisible\" icon=\"alert-circle-outline\" [text]=\"'ERROR_DATA' | translate\">\n    </empty-view>\n\n    <empty-view *ngIf=\"isEmptyViewVisible\" icon=\"heart-outline\"\n      [text]=\"'EMPTY_DATA' | translate\">\n    </empty-view>\n\n    <div *ngIf=\"isContentViewVisible\">\n      <ion-list [@staggerIn]=\"items.length\">\n        <ion-row>\n          <ion-col size-xs=\"6\" size-sm=\"4\" size-md=\"4\" size-lg=\"3\" *ngFor=\"let item of items;trackBy:trackByFn\">\n            <app-shop-item [item]=\"item\" [customObservable]=\"loadAndScroll\" [routerLink]=\"['./' + item.slug]\">\n            </app-shop-item>\n          </ion-col>\n        </ion-row>\n      </ion-list>\n      <ion-infinite-scroll (ionInfinite)=\"onLoadMore($event)\">\n        <ion-infinite-scroll-content></ion-infinite-scroll-content>\n      </ion-infinite-scroll>\n    </div>\n\n    <ion-row *ngIf=\"isLoadingViewVisible\" class=\"ion-justify-content-center\">\n      <ion-col class=\"ion-text-center\" size-xs=\"6\" size-sm=\"4\" size-md=\"4\" size-lg=\"3\" *ngFor=\"let item of skeletonArray\">\n        <ngx-skeleton-loader count=\"1\" appearance=\"circle\"\n          [theme]=\"{ width: '100%', height: '240px', 'border-radius': '0' }\">\n        </ngx-skeleton-loader>\n      </ion-col>\n    </ion-row>\n\n  </ion-grid>\n\n</ion-content>","import { Component, Injector, ViewChild } from '@angular/core';\nimport { Item } from '../../services/item';\nimport { BasePage } from '../base-page/base-page';\nimport { Observable, Subject, merge } from 'rxjs';\nimport { IonContent } from '@ionic/angular';\nimport {\n  trigger,\n  style,\n  animate,\n  transition,\n  query,\n  stagger\n} from '@angular/animations';\n\n@Component({\n  selector: 'page-favorite',\n  templateUrl: 'favorite.html',\n  styleUrls: ['favorite.scss'],\n  animations: [\n    trigger('staggerIn', [\n      transition('* => *', [\n        query(':enter', style({ opacity: 0, transform: `translate3d(0,10px,0)` }), { optional: true }),\n        query(':enter', stagger('100ms', [animate('300ms', style({ opacity: 1, transform: `translate3d(0,0,0)` }))]), { optional: true })\n      ])\n    ])\n  ]\n})\nexport class FavoritePage extends BasePage {\n\n  @ViewChild(IonContent, { static: true }) content: IonContent;\n\n  public loadAndScroll: Observable<any>;\n  protected contentLoaded: Subject<any>;\n\n  private params: any = {\n    likes: true,\n    page: 0,\n    limit: 40\n  };\n  public items: Item[] = [];\n  public skeletonArray = Array(12);\n\n  constructor(injector: Injector, private itemService: Item) {\n    super(injector);\n  }\n\n  enableMenuSwipe() {\n    return true;\n  }\n\n  ngOnInit() {\n    this.contentLoaded = new Subject();\n\n    this.loadAndScroll = merge(\n      this.content.ionScroll,\n      this.contentLoaded\n    );\n  }\n\n  async ionViewDidEnter() {\n\n    if (!this.items.length) {\n      this.showLoadingView({ showOverlay: false });\n      this.loadData();\n    }\n    \n    const title = await this.getTrans('FAVORITES');\n    this.setPageTitle(title);\n\n    this.setMetaTags({\n      title: title\n    });\n  }\n\n  async loadData() {\n\n    try {\n\n      const items = await this.itemService.load(this.params);\n\n      for (const item of items) {\n        this.items.push(item);\n      }\n\n      if (this.items.length) {\n        this.showContentView();\n      } else {\n        this.showEmptyView();\n      }\n\n      this.onRefreshComplete(items);\n\n      setTimeout(() => {\n        this.contentLoaded.next();\n      }, 400);\n\n    } catch (err) {\n      \n      if (this.items.length) {\n        this.showContentView();\n      } else {\n        this.showErrorView();\n      }\n\n      this.onRefreshComplete();\n      this.translate.get('ERROR_NETWORK').subscribe((str) => this.showToast(str));\n    }\n\n  }\n\n  onSearch(ev: any = {}) {\n    const val: string = ev.target.value;\n    const canonical = (val && val.trim() != '') ? val.toLowerCase() : null;\n    this.params.tag = canonical;\n    this.params.page = 0;\n    this.items = [];\n    this.showLoadingView({ showOverlay: false });\n    this.loadData();\n  }\n\n  onSearchCleared() {\n    this.params.canonical = '';\n    this.params.page = 0;\n    this.items = [];\n    this.showLoadingView({ showOverlay: false });\n    this.loadData();\n  }\n\n  onRefresh(event: any = {}) {\n    this.refresher = event.target;\n    this.items = [];\n    this.params.page = 0;\n    this.loadData();\n  }\n\n  onLoadMore(event: any = {}) {\n    this.infiniteScroll = event.target;\n    this.params.page++;\n    this.loadData();\n  }\n\n  trackByFn(index: number, item: any) {\n    if (!item) return null;\n    return item.id;\n  }\n\n}\n"]}