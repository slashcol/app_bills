{"version":3,"sources":["./src/app/pages/favorite/favorite.module.ts","./src/app/pages/favorite/favorite.ts","./src/app/pages/favorite/favorite.html"],"names":[],"mappings":"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","file":"pages-favorite-favorite-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { FavoritePage } from './favorite';\nimport { SharedModule } from '../../shared.module';\n\n@NgModule({\n  declarations: [\n    FavoritePage,\n  ],\n  imports: [\n    RouterModule.forChild([\n      {\n        path: '',\n        component: FavoritePage\n      }\n    ]),\n    SharedModule,\n  ],\n})\nexport class FavoritePageModule {}\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { Item } from '../../services/item';\nimport { BasePage } from '../base-page/base-page';\nimport { Observable, Subject, merge } from 'rxjs';\nimport { IonContent } from '@ionic/angular';\nimport {\n  trigger,\n  style,\n  animate,\n  transition,\n  query,\n  stagger\n} from '@angular/animations';\n\n@Component({\n  selector: 'page-favorite',\n  templateUrl: 'favorite.html',\n  styleUrls: ['favorite.scss'],\n  animations: [\n    trigger('staggerIn', [\n      transition('* => *', [\n        query(':enter', style({ opacity: 0, transform: `translate3d(0,10px,0)` }), { optional: true }),\n        query(':enter', stagger('100ms', [animate('300ms', style({ opacity: 1, transform: `translate3d(0,0,0)` }))]), { optional: true })\n      ])\n    ])\n  ]\n})\nexport class FavoritePage extends BasePage {\n\n  @ViewChild(IonContent, { static: true }) content: IonContent;\n\n  public loadAndScroll: Observable<any>;\n  protected contentLoaded: Subject<any>;\n\n  private params: any = {\n    likes: true,\n    page: 0,\n    limit: 40\n  };\n  public items: Item[] = [];\n  public skeletonArray = Array(12);\n\n  constructor(injector: Injector, private itemService: Item) {\n    super(injector);\n  }\n\n  enableMenuSwipe() {\n    return true;\n  }\n\n  ngOnInit() {\n    this.contentLoaded = new Subject();\n\n    this.loadAndScroll = merge(\n      this.content.ionScroll,\n      this.contentLoaded\n    );\n  }\n\n  async ionViewDidEnter() {\n\n    if (!this.items.length) {\n      this.showLoadingView({ showOverlay: false });\n      this.loadData();\n    }\n    \n    const title = await this.getTrans('FAVORITES');\n    this.setPageTitle(title);\n\n    this.setMetaTags({\n      title: title\n    });\n  }\n\n  async loadData() {\n\n    try {\n\n      const items = await this.itemService.load(this.params);\n\n      for (const item of items) {\n        this.items.push(item);\n      }\n\n      if (this.items.length) {\n        this.showContentView();\n      } else {\n        this.showEmptyView();\n      }\n\n      this.onRefreshComplete(items);\n\n      setTimeout(() => {\n        this.contentLoaded.next();\n      }, 400);\n\n    } catch (err) {\n      \n      if (this.items.length) {\n        this.showContentView();\n      } else {\n        this.showErrorView();\n      }\n\n      this.onRefreshComplete();\n      this.translate.get('ERROR_NETWORK').subscribe((str) => this.showToast(str));\n    }\n\n  }\n\n  onSearch(ev: any = {}) {\n    const val: string = ev.target.value;\n    const canonical = (val && val.trim() != '') ? val.toLowerCase() : null;\n    this.params.tag = canonical;\n    this.params.page = 0;\n    this.items = [];\n    this.showLoadingView({ showOverlay: false });\n    this.loadData();\n  }\n\n  onSearchCleared() {\n    this.params.canonical = '';\n    this.params.page = 0;\n    this.items = [];\n    this.showLoadingView({ showOverlay: false });\n    this.loadData();\n  }\n\n  onRefresh(event: any = {}) {\n    this.refresher = event.target;\n    this.items = [];\n    this.params.page = 0;\n    this.loadData();\n  }\n\n  onLoadMore(event: any = {}) {\n    this.infiniteScroll = event.target;\n    this.params.page++;\n    this.loadData();\n  }\n\n  trackByFn(index: number, item: any) {\n    if (!item) return null;\n    return item.id;\n  }\n\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar fixed>\n    <ion-buttons slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n    <ion-searchbar mode=\"ios\" placeholder=\"\" (ionClear)=\"onSearchCleared()\" (keyup.enter)=\"onSearch($event)\">\n    </ion-searchbar>\n  </ion-toolbar>\n\n</ion-header>\n\n<ion-content #container scrollEvents=\"true\">\n\n  <ion-refresher slot=\"fixed\" (ionRefresh)=\"onRefresh($event)\">\n    <ion-refresher-content pullingText=\"{{ 'PULL_TO_REFRESH' | translate }}\"\n      refreshingText=\"{{ 'REFRESHING' | translate }}\">\n    </ion-refresher-content>\n  </ion-refresher>\n\n  <ion-grid fixed>\n\n    <empty-view *ngIf=\"isErrorViewVisible\" icon=\"alert-circle-outline\" [text]=\"'ERROR_DATA' | translate\">\n    </empty-view>\n\n    <empty-view *ngIf=\"isEmptyViewVisible\" icon=\"heart-outline\"\n      [text]=\"'EMPTY_DATA' | translate\">\n    </empty-view>\n\n    <div *ngIf=\"isContentViewVisible\">\n      <ion-list [@staggerIn]=\"items.length\">\n        <ion-row>\n          <ion-col size-xs=\"6\" size-sm=\"4\" size-md=\"4\" size-lg=\"3\" *ngFor=\"let item of items;trackBy:trackByFn\">\n            <app-shop-item [item]=\"item\" [customObservable]=\"loadAndScroll\" [routerLink]=\"['./' + item.slug]\">\n            </app-shop-item>\n          </ion-col>\n        </ion-row>\n      </ion-list>\n      <ion-infinite-scroll (ionInfinite)=\"onLoadMore($event)\">\n        <ion-infinite-scroll-content></ion-infinite-scroll-content>\n      </ion-infinite-scroll>\n    </div>\n\n    <ion-row *ngIf=\"isLoadingViewVisible\" class=\"ion-justify-content-center\">\n      <ion-col class=\"ion-text-center\" size-xs=\"6\" size-sm=\"4\" size-md=\"4\" size-lg=\"3\" *ngFor=\"let item of skeletonArray\">\n        <ngx-skeleton-loader count=\"1\" appearance=\"circle\"\n          [theme]=\"{ width: '100%', height: '240px', 'border-radius': '0' }\">\n        </ngx-skeleton-loader>\n      </ion-col>\n    </ion-row>\n\n  </ion-grid>\n\n</ion-content>"],"sourceRoot":"webpack:///"}