{"version":3,"sources":["webpack:///src/app/pages/forgot-password/forgot-password.module.ts","webpack:///src/app/pages/forgot-password/forgot-password.html","webpack:///src/app/pages/forgot-password/forgot-password.ts","webpack:///src/app/pages/sign-in/sign-in.module.ts","webpack:///src/app/pages/sign-in/sign-in.html","webpack:///src/app/pages/sign-in/sign-in.ts","webpack:///src/app/services/app-config.ts"],"names":["ForgotPasswordPageModule","declarations","imports","entryComponents","ForgotPasswordPage","injector","userService","form","email","required","modalCtrl","dismiss","invalid","getTrans","message","showToast","showLoadingView","showOverlay","value","recoverPassword","showContentView","translate","get","subscribe","str","showAlert","code","onDismiss","onSubmit","selector","templateUrl","styleUrls","SignInPageModule","SignInPage","fb","authService","googlePlus","signInWithApple","device","appConfigService","isSignInViaFacebook","isSignInViaGoogle","isSignInViaApple","isSignInViaUsername","isAppleSignInAvailable","isSignUpLoading","deviceVersion","parseInt","version","isCordova","isIos","showLoginForm","setupLoginForm","showSignUpForm","setupSignUpForm","googleSubscription","authState","user","loggedIntoGoogle","loadAppConfig","unsubscribe","isLoadingConfig","load","config","isFacebookLoginEnabled","auth","isGoogleLoginEnabled","isAppleLoginEnabled","username","password","name","minLength","isHybrid","loginViaFacebook","then","loggedViaFacebook","e","console","log","login","res","loggedIntoFacebook","expirationDate","Date","setSeconds","getSeconds","authResponse","expiresIn","expirationDateFormatted","toISOString","facebookAuthData","id","userID","access_token","accessToken","expiration_date","loginWith","authData","loginViaFacebookFailure","error","transParams","attributes","window","dispatchEvent","CustomEvent","detail","webClientId","googleClientId","userId","authToken","idToken","signIn","PROVIDER_ID","id_token","signin","requestedScopes","ASAuthorizationScopeFullName","ASAuthorizationScopeEmail","token","identityToken","extraData","fullName","givenName","familyName","formData","Object","assign","trim","currentUser","getCurrent","undefined","setUsername","setPassword","signUp","create","component","modal","present","AppConfigService","run","providedIn","registerSubclass"],"mappings":"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","file":"default~pages-checkout-page-checkout-page-module~pages-item-item-module~pages-profile-page-profile-p~431f476f-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { ForgotPasswordPage } from './forgot-password';\nimport { SharedModule } from '../../shared.module';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [\n    ForgotPasswordPage,\n  ],\n  imports: [\n    SharedModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  entryComponents: [\n    ForgotPasswordPage\n  ]\n})\nexport class ForgotPasswordPageModule {}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-title>{{ 'FORGOT_PASSWORD' | translate }}</ion-title>\n    <ion-buttons slot=\"end\">\n        <ion-button (click)=\"onDismiss()\">\n          <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n        </ion-button>\n      </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n\n  <ion-text color=\"dark\">\n    <p>{{ 'FORGOT_PASSWORD_HELP' | translate }}<p>\n  </ion-text>\n\n  <form [formGroup]=\"form\" #forgotPasswordForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" novalidate>\n\n    <ion-label position=\"stacked\" color=\"medium\">\n      <span class=\"bold\">{{ 'EMAIL' | translate }}</span>\n    </ion-label>\n    <ion-item class=\"ion-margin-vertical\" lines=\"none\" color=\"light\">\n      <ion-input type=\"email\" formControlName=\"email\"\n        (keyup.enter)=\"forgotPasswordForm.ngSubmit.emit()\">\n      </ion-input>\n    </ion-item>\n\n    <ion-row class=\"ion-justify-content-center\">\n      <ion-col size-xs=\"6\" size-md=\"4\" class=\"ion-text-center\">\n        <ion-button type=\"submit\" shape=\"round\" expand=\"block\" color=\"light\"\n          [disabled]=\"isLoadingViewVisible\">\n          <ion-spinner color=\"dark\" *ngIf=\"isLoadingViewVisible\"></ion-spinner>\n          <span *ngIf=\"!isLoadingViewVisible\">{{ 'SUBMIT' | translate }}</span>\n        </ion-button>\n      </ion-col>\n    </ion-row>\n\n  </form>\n</ion-content>","import { Component, Injector } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { BasePage } from '../base-page/base-page';\nimport { User } from '../../services/user';\n\n@Component({\n  selector: 'page-forgot-password',\n  templateUrl: 'forgot-password.html',\n  styleUrls: ['forgot-password.scss']\n})\nexport class ForgotPasswordPage extends BasePage {\n\n  public form: FormGroup;\n\n  constructor (injector: Injector,\n    private userService: User) {\n    super(injector);\n\n    this.form = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email]),\n    });\n  }\n\n  enableMenuSwipe () {\n    return false;\n  }\n\n  onDismiss () {\n    this.modalCtrl.dismiss();\n  }\n\n  async onSubmit () {\n\n    if (this.form.invalid) {\n      const message = await this.getTrans('INVALID_FORM');\n      return this.showToast(message);\n    }\n\n    try {\n\n      await this.showLoadingView({ showOverlay: false });\n      \n      const email = this.form.value.email;\n      \n      await this.userService.recoverPassword(email);\n\n      this.showContentView();\n\n      this.translate.get('FORGOT_PASSWORD_SUCCESS')\n        .subscribe((str: string) => this.showAlert(str));\n\n    } catch (err) {\n\n      if (err.code === 205) {\n        this.translate.get('EMAIL_NOT_FOUND').subscribe(str => this.showToast(str));\n      } else {\n        this.translate.get('ERROR_NETWORK').subscribe(str => this.showToast(str));\n      }\n\n      this.showContentView();\n\n    }\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { SignInPage } from './sign-in';\nimport { SharedModule } from '../../shared.module';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { ForgotPasswordPageModule } from '../forgot-password/forgot-password.module';\n\n@NgModule({\n  declarations: [\n    SignInPage,\n  ],\n  imports: [\n    SharedModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ForgotPasswordPageModule\n  ],\n})\nexport class SignInPageModule {}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-title></ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"onDismiss()\">\n        <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n\n  <div class=\"center\" *ngIf=\"!showLoginForm && !showSignUpForm\">\n    <div class=\"ion-text-center\">\n      <h3>{{ 'LOGIN' | translate }}</h3>\n      <p [innerHTML]=\"'LOGIN_INFO' | translate\"></p>\n      <ion-row>\n        <ion-col>\n          <ion-button color=\"primary\" expand=\"block\" fill=\"outline\" (click)=\"onLoginButtonTouched()\">\n            {{ 'LOGIN' | translate }}\n          </ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button color=\"primary\" expand=\"block\" (click)=\"onSignUpButtonTouched()\">\n            {{ 'SIGN_UP' | translate }}\n          </ion-button>\n        </ion-col>\n      </ion-row>\n    </div>\n  </div>\n\n  <div *ngIf=\"showLoginForm\">\n\n    <div class=\"ion-text-center\">\n      <img width=\"60\" src=\"./assets/imgs/icon.png\">\n    </div>\n\n    <form class=\"ion-padding\" [formGroup]=\"form\" #loginForm=\"ngForm\" (ngSubmit)=\"onLogin()\" novalidate>\n\n      <ion-item color=\"light\" lines=\"none\" class=\"ion-margin-bottom\">\n        <ion-input type=\"text\" formControlName=\"username\" [placeholder]=\"'USERNAME_OR_EMAIL' | translate\">\n        </ion-input>\n      </ion-item>\n\n      <ion-item color=\"light\" lines=\"none\" class=\"ion-margin-bottom\">\n        <ion-input type=\"password\" formControlName=\"password\"\n        (keyup.enter)=\"loginForm.ngSubmit.emit()\"\n        [placeholder]=\"'PASSWORD' | translate\">\n        </ion-input>\n      </ion-item>\n\n      <ion-row class=\"ion-margin-top ion-justify-content-center\">\n        <ion-col size-xs=\"8\" size-md=\"6\" class=\"ion-text-center\">\n          <ion-button class=\"ion-margin-vertical\" strong type=\"submit\" color=\"primary\" expand=\"block\" shape=\"round\"\n            [disabled]=\"isSignInViaApple || isSignInViaGoogle || isSignInViaUsername || isSignInViaFacebook\">\n            <ion-spinner color=\"light\" *ngIf=\"isSignInViaUsername\"></ion-spinner>\n            <span *ngIf=\"!isSignInViaUsername\">{{ 'LOGIN' | translate }}</span>\n          </ion-button>\n        </ion-col>\n      </ion-row>\n\n      <div class=\"ion-text-center ion-margin-vertical\" *ngIf=\"isLoadingConfig\">\n        <ion-spinner></ion-spinner>\n      </div>\n\n      <ion-row class=\"ion-justify-content-center\">\n        <ion-col size-xs=\"12\" size-md=\"6\" *ngIf=\"isFacebookLoginEnabled\">\n          <ion-button strong type=\"button\" color=\"fb\" expand=\"block\" shape=\"round\"\n            [disabled]=\"isSignInViaApple || isSignInViaGoogle || isSignInViaUsername || isSignInViaFacebook\"\n            (click)=\"onFacebookButtonTouched()\">\n            <ion-icon slot=\"start\" name=\"logo-facebook\" color=\"light\"></ion-icon>\n            <ion-spinner color=\"light\" *ngIf=\"isSignInViaFacebook\"></ion-spinner>\n            <span class=\"ion-text-capitalize\" *ngIf=\"!isSignInViaFacebook\">\n              {{ 'FACEBOOK' | translate }}\n            </span>\n          </ion-button>\n        </ion-col>\n  \n        <ion-col size-xs=\"12\" size-md=\"6\" *ngIf=\"isGoogleLoginEnabled\">\n          <ion-button strong type=\"button\" color=\"google\" expand=\"block\" shape=\"round\"\n            [disabled]=\"isSignInViaApple || isSignInViaGoogle || isSignInViaUsername || isSignInViaFacebook\"\n            (click)=\"onGoogleButtonTouched()\">\n            <ion-icon slot=\"start\" name=\"logo-google\" color=\"light\"></ion-icon>\n            <ion-spinner color=\"light\" *ngIf=\"isSignInViaGoogle\"></ion-spinner>\n            <span class=\"ion-text-capitalize\" *ngIf=\"!isSignInViaGoogle\">\n              {{ 'GOOGLE_LOGIN' | translate }}\n            </span>\n          </ion-button>\n        </ion-col>\n\n        <ion-col size-xs=\"12\" size-md=\"6\" *ngIf=\"isAppleLoginEnabled\">\n          <ion-button strong type=\"button\" color=\"dark\" expand=\"block\" shape=\"round\" *ngIf=\"isAppleSignInAvailable\"\n            [disabled]=\"isSignInViaApple || isSignInViaGoogle || isSignInViaUsername || isSignInViaFacebook\"\n            (click)=\"onAppleButtonTouched()\">\n            <ion-icon slot=\"start\" name=\"logo-apple\" color=\"light\"></ion-icon>\n            <ion-spinner color=\"light\" *ngIf=\"isSignInViaApple\"></ion-spinner>\n            <span class=\"ion-text-capitalize\" *ngIf=\"!isSignInViaApple\">\n              {{ 'APPLE_LOGIN' | translate }}\n            </span>\n          </ion-button>\n        </ion-col>\n\n      </ion-row>\n\n    </form>\n\n    <ion-row>\n      <ion-col size=\"6\" class=\"ion-text-start\">\n        <ion-button strong (click)=\"onForgotPasswordButtonTouched()\" fill=\"clear\">\n          {{ 'FORGOT_PASSWORD' | translate }}\n        </ion-button>\n      </ion-col>\n      <ion-col size=\"6\" class=\"ion-text-end\">\n        <ion-button strong (click)=\"onSignUpButtonTouched()\" fill=\"clear\">\n          {{ 'NO_ACCOUNT_YET_CREATE_ONE' | translate }}\n        </ion-button>\n      </ion-col>\n    </ion-row>\n\n  </div>\n\n  <div *ngIf=\"showSignUpForm\">\n\n    <div class=\"ion-text-center\">\n      <img width=\"60\" src=\"./assets/imgs/icon.png\">\n    </div>\n\n    <form class=\"ion-padding\" [formGroup]=\"form\" #signupForm=\"ngForm\" (ngSubmit)=\"onSignUp()\" novalidate>\n\n      <ion-item color=\"light\" lines=\"none\" class=\"ion-margin-bottom\">\n        <ion-input type=\"text\" formControlName=\"name\" [placeholder]=\"'NAME' | translate\">\n        </ion-input>\n      </ion-item>\n\n      <ion-item color=\"light\" lines=\"none\" class=\"ion-margin-bottom\">\n        <ion-input type=\"text\" formControlName=\"username\" [placeholder]=\"'USERNAME' | translate\">\n        </ion-input>\n      </ion-item>\n\n      <ion-item color=\"light\" lines=\"none\" class=\"ion-margin-bottom\">\n        <ion-input type=\"email\" formControlName=\"email\" [placeholder]=\"'EMAIL' | translate\"></ion-input>\n      </ion-item>\n\n      <ion-text color=\"dark\">\n        <p>\n          <small>{{ 'EMAIL_FIELD_HELP' | translate }}</small>\n        </p>\n      </ion-text>\n\n      <ion-item color=\"light\" lines=\"none\" class=\"ion-margin-bottom\">\n        <ion-input [type]=\"!showPass ? 'password' : 'text' \" formControlName=\"password\"\n        (keyup.enter)=\"signupForm.ngSubmit.emit()\"\n        [placeholder]=\"'PASSWORD' | translate\">\n        </ion-input>\n        <ion-button *ngIf=\"!showPass\" fill=\"clear\" color=\"dark\" type=\"button\" slot=\"end\" (click)=\"this.showPass = !this.showPass;\">\n          <ion-icon name=\"eye-off\"></ion-icon>\n        </ion-button>\n        <ion-button *ngIf=\"showPass\" fill=\"clear\" color=\"dark\" type=\"button\" slot=\"end\" (click)=\"this.showPass = !this.showPass;\">\n          <ion-icon name=\"eye\"></ion-icon>\n        </ion-button>\n      </ion-item>\n\n      <ion-text color=\"dark\">\n        <p>\n          <small>{{ 'PASSWORD_VALIDATION_MSG' | translate }}</small>\n        </p>\n      </ion-text>\n\n      <ion-row class=\"ion-justify-content-center\">\n        <ion-col size-xs=\"8\" size-md=\"6\" class=\"ion-text-center\">\n          <ion-button class=\"ion-margin-vertical\" strong type=\"submit\" color=\"primary\" expand=\"block\" shape=\"round\"\n          [disabled]=\"isSignUpLoading\">\n          <ion-spinner color=\"light\" *ngIf=\"isSignUpLoading\"></ion-spinner>\n          <span *ngIf=\"!isSignUpLoading\">{{ 'SIGN_UP' | translate }}</span>\n        </ion-button>\n        </ion-col>\n      </ion-row>\n\n      <ion-row class=\"ion-justify-content-center\">\n        <ion-col size=\"8\" class=\"ion-text-center\">\n          <ion-button class=\"ion-text-capitalize\" strong type=\"button\" fill=\"clear\" expand=\"block\" color=\"dark\"\n            (click)=\"onLoginButtonTouched()\">\n            {{ 'BACK_TO_LOGIN' | translate }}\n          </ion-button>\n        </ion-col>\n      </ion-row>\n\n    </form>\n  </div>\n\n</ion-content>","import { Component, Injector, Input } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { BasePage } from '../base-page/base-page';\nimport { User } from '../../services/user';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook/ngx';\nimport { ForgotPasswordPage } from '../forgot-password/forgot-password';\nimport { SocialAuthService, GoogleLoginProvider } from 'angularx-social-login';\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\nimport { Subscription } from 'rxjs';\nimport { SignInWithApple, ASAuthorizationAppleIDRequest } from '@ionic-native/sign-in-with-apple/ngx';\nimport { Device } from '@ionic-native/device/ngx';\nimport { environment } from 'src/environments/environment';\nimport { AppConfigService } from 'src/app/services/app-config';\nimport Utils from 'src/app/utils/utils';\n\n@Component({\n  selector: 'page-sign-in',\n  templateUrl: './sign-in.html',\n  styleUrls: ['./sign-in.scss'],\n})\nexport class SignInPage extends BasePage {\n\n  public form: FormGroup;\n\n  @Input() showLoginForm: boolean;\n  @Input() showSignUpForm: boolean;\n\n  public isSignInViaFacebook: boolean = false;\n  public isSignInViaGoogle: boolean = false;\n  public isSignInViaApple: boolean = false;\n  public isSignInViaUsername: boolean = false;\n\n  public isAppleSignInAvailable: boolean = false;\n\n  public isSignUpLoading: boolean = false;\n\n  public showPass: boolean;\n\n  public googleSubscription: Subscription;\n\n  public isFacebookLoginEnabled: boolean;\n  public isGoogleLoginEnabled: boolean;\n  public isAppleLoginEnabled: boolean;\n\n  public isLoadingConfig: boolean;\n\n  constructor(injector: Injector,\n    private fb: Facebook,\n    private authService: SocialAuthService,\n    private googlePlus: GooglePlus,\n    private signInWithApple: SignInWithApple,\n    private device: Device,\n    private appConfigService: AppConfigService,\n    private userService: User) {\n    super(injector);\n  }\n\n  ngOnInit() {\n\n    const deviceVersion = parseInt(this.device.version);\n    this.isAppleSignInAvailable = deviceVersion >= 13 && this.isCordova() && this.isIos();\n\n    if (this.showLoginForm) {\n      this.setupLoginForm();\n    } else if (this.showSignUpForm) {\n      this.setupSignUpForm();\n    }\n\n    this.googleSubscription = this.authService.authState.subscribe(user => {\n      if (user) {\n        this.loggedIntoGoogle(user);\n      }\n    });\n\n    this.loadAppConfig();\n  }\n\n  ngOnDestroy() {\n    this.googleSubscription.unsubscribe();\n  }\n\n  enableMenuSwipe() {\n    return false;\n  }\n\n  onDismiss() {\n    this.modalCtrl.dismiss();\n  }\n\n  async loadAppConfig() {\n\n    try {\n      this.isLoadingConfig = true;\n      const config = await this.appConfigService.load();\n      this.isFacebookLoginEnabled = config?.auth?.isFacebookLoginEnabled;\n      this.isGoogleLoginEnabled = config?.auth?.isGoogleLoginEnabled;\n      this.isAppleLoginEnabled = config?.auth?.isAppleLoginEnabled;\n      this.isLoadingConfig = false;\n\n    } catch (error) {\n      this.isLoadingConfig = false;\n    }\n  }\n\n  onLoginButtonTouched() {\n    this.showLoginForm = true;\n    this.showSignUpForm = false;\n    this.setupLoginForm();\n  }\n\n  onSignUpButtonTouched() {\n    this.showLoginForm = false;\n    this.showSignUpForm = true;\n    this.setupSignUpForm();\n  }\n\n  setupLoginForm() {\n    this.form = new FormGroup({\n      username: new FormControl('', Validators.required),\n      password: new FormControl('', Validators.required)\n    });\n  }\n\n  setupSignUpForm() {\n    this.form = new FormGroup({\n      name: new FormControl('', Validators.required),\n      username: new FormControl('', Validators.required),\n      email: new FormControl(''),\n      password: new FormControl('', [Validators.required, Validators.minLength(6)]),\n    });\n  }\n\n  onFacebookButtonTouched() {\n\n    if (!this.isHybrid()) {\n      this.userService.loginViaFacebook()\n        .then((user: User) => this.loggedViaFacebook(user))\n        .catch(e => console.log('Error logging into Facebook', e));\n    } else {\n      this.fb.login(['public_profile'])\n        .then((res: FacebookLoginResponse) => this.loggedIntoFacebook(res))\n        .catch(e => console.log('Error logging into Facebook', e));\n    }\n\n  }\n\n  async loggedIntoFacebook(res: FacebookLoginResponse) {\n\n    let expirationDate = new Date();\n    expirationDate.setSeconds(expirationDate.getSeconds() + res.authResponse.expiresIn);\n\n    const expirationDateFormatted = expirationDate.toISOString();\n\n    const facebookAuthData = {\n      id: res.authResponse.userID,\n      access_token: res.authResponse.accessToken,\n      expiration_date: expirationDateFormatted\n    };\n\n    try {\n\n      await this.showLoadingView({ showOverlay: false });\n      this.isSignInViaFacebook = true;\n\n      const user = await this.userService.loginWith('facebook', {\n        authData: facebookAuthData\n      });\n\n      this.loggedViaFacebook(user);\n      this.isSignInViaFacebook = false;\n\n    } catch (error) {\n      this.loginViaFacebookFailure(error);\n      this.isSignInViaFacebook = false;\n    }\n\n  }\n\n  loginViaFacebookFailure(error: any) {\n    console.log('Error logging into Facebook', error);\n    this.translate.get('ERROR_NETWORK').subscribe(str => this.showToast(str));\n    this.showContentView();\n  }\n\n  loggedViaFacebook(user: User) {\n    this.showContentView();\n\n    const transParams = { name: user.attributes.name };\n\n    this.translate.get('LOGGED_IN_AS', transParams)\n      .subscribe(str => this.showToast(str));\n\n    window.dispatchEvent(new CustomEvent('user:login', {\n      detail: user\n    }));\n\n    this.onDismiss();\n  }\n\n  async onGoogleButtonTouched() {\n    if (this.isHybrid()) {\n      try {\n        const res = await this.googlePlus.login({\n          webClientId: environment.googleClientId\n        });\n        this.loggedIntoGoogle({\n          id: res.userId,\n          authToken: res.accessToken,\n          idToken: res.idToken\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    } else {\n      this.authService.signIn(GoogleLoginProvider.PROVIDER_ID);\n    }\n  }\n\n  async loggedIntoGoogle(res: any) {\n    console.log(\"Logged into Google\", res);\n\n    try {\n      this.isSignInViaGoogle = true;\n\n      const authData = {\n        id: res.id,\n        access_token: res.authToken,\n        id_token: res.idToken\n      };\n\n      const user = await this.userService.loginWith(\"google\", { authData });\n\n      this.isSignInViaGoogle = false;\n\n      const transParams = { name: user.name };\n\n      this.translate\n        .get(\"LOGGED_IN_AS\", transParams)\n        .subscribe(str => this.showToast(str));\n\n      this.onDismiss();\n\n      window.dispatchEvent(new CustomEvent('user:login', {\n        detail: user\n      }));\n\n    } catch (err) {\n      console.log(\"Error logging into Google\", err);\n      this.isSignInViaGoogle = false;\n      this.translate.get(\"ERROR_NETWORK\").subscribe(str => this.showToast(str));\n      this.showContentView();\n    }\n  }\n\n  async onAppleButtonTouched() {\n    try {\n      this.isSignInViaApple = true;\n\n      const res = await this.signInWithApple.signin({\n        requestedScopes: [\n          ASAuthorizationAppleIDRequest.ASAuthorizationScopeFullName,\n          ASAuthorizationAppleIDRequest.ASAuthorizationScopeEmail\n        ]\n      });\n\n      const authData = {\n        id: res.user,\n        token: res.identityToken\n      };\n\n      const extraData: any = {};\n\n      if (res.fullName.givenName && res.fullName.familyName) {\n        extraData.name = res.fullName.givenName + ' ' + res.fullName.familyName;\n      }\n\n      const user = await this.userService.loginWith(\n        'apple',\n        { authData },\n        extraData\n      );\n\n      this.isSignInViaApple = false;\n\n      const transParams = { name: user.name };\n\n      this.translate\n        .get('LOGGED_IN_AS', transParams)\n        .subscribe(str => this.showToast(str));\n\n      this.onDismiss();\n\n      window.dispatchEvent(new CustomEvent('user:login', {\n        detail: user\n      }));\n\n    } catch (error) {\n      this.isSignInViaApple = false;\n    }\n  }\n\n  async onLogin() {\n\n    try {\n\n      if (this.form.invalid) {\n        const message = await this.getTrans('INVALID_FORM');\n        return this.showToast(message);\n      }\n\n      await this.showLoadingView({ showOverlay: false });\n      this.isSignInViaUsername = true;\n\n      const formData = Object.assign({}, this.form.value);\n\n      formData.username = formData.username.trim();\n      formData.password = formData.password.trim();\n\n      const user = await this.userService.signIn(formData);\n\n      this.showContentView();\n      this.isSignInViaUsername = false;\n\n      const transParams = { name: user.name };\n      this.translate.get('LOGGED_IN_AS', transParams)\n        .subscribe(str => this.showToast(str));\n\n      this.onDismiss();\n\n      window.dispatchEvent(new CustomEvent('user:login', {\n        detail: user\n      }));\n\n    } catch (err) {\n\n      if (err.code === 101) {\n        this.translate.get('INVALID_CREDENTIALS')\n          .subscribe(str => this.showToast(str));\n      } else {\n        this.translate.get('ERROR_NETWORK')\n          .subscribe(str => this.showToast(str));\n      }\n\n      this.showContentView();\n      this.isSignInViaUsername = false;\n    }\n  }\n\n  async onSignUp() {\n\n    try {\n\n      if (this.form.invalid) {\n        const message = await this.getTrans('INVALID_FORM');\n        return this.showToast(message);\n      }\n\n      const formData = Object.assign({}, this.form.value);\n\n      formData.name = formData.name.trim();\n      formData.username = formData.username.trim();\n      formData.email = formData.email.trim();\n      formData.password = formData.password.trim();\n\n      if (formData.email === '') {\n        delete formData.email;\n      }\n\n      await this.showLoadingView({ showOverlay: false });\n      this.isSignUpLoading = true;\n\n      let user = null;\n\n      const currentUser = User.getCurrent();\n\n      if (currentUser && currentUser.attributes.authData &&\n        currentUser.attributes.authData['anonymous'] !== undefined) {\n\n        currentUser.setUsername(formData.username);\n        currentUser.setPassword(formData.password);\n        delete formData.username;\n        delete formData.password;\n\n        user = await currentUser.signUp(formData);\n\n      } else {\n        user = new User();\n        user.signUp(formData);\n      }\n\n      this.showContentView();\n      this.isSignUpLoading = false;\n\n      const transParams = { name: user.name };\n      this.translate.get('LOGGED_IN_AS', transParams)\n        .subscribe(str => this.showToast(str));\n\n      this.onDismiss();\n\n      window.dispatchEvent(new CustomEvent('user:login', {\n        detail: user\n      }));\n\n    } catch (err) {\n\n      this.showContentView();\n      this.isSignUpLoading = false;\n\n      if (err.code === 202) {\n        this.translate.get('USERNAME_TAKEN').subscribe(str => this.showToast(str));\n      } else if (err.code === 203) {\n        this.translate.get('EMAIL_TAKEN').subscribe(str => this.showToast(str));\n      } else if (err.code === 125) {\n        this.translate.get('EMAIL_INVALID').subscribe(str => this.showToast(str));\n      } else {\n        this.translate.get('ERROR_NETWORK').subscribe(str => this.showToast(str));\n      }\n    }\n  }\n\n  async onForgotPasswordButtonTouched() {\n\n    await this.showLoadingView({ showOverlay: true });\n\n    const modal = await this.modalCtrl.create({\n      component: ForgotPasswordPage,\n    });\n\n    await modal.present();\n\n    this.showContentView();\n  }\n\n}","import { Injectable } from '@angular/core';\nimport * as Parse from 'parse';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppConfigService extends Parse.Object {\n\n  constructor() {\n    super('AppConfig');\n  }\n\n  load(): Promise<AppConfigService> {\n    return Parse.Cloud.run('getAppConfig');\n  }\n\n  get about(): any {\n    return this.get('about');\n  }\n\n  get admin(): any {\n    return this.get('admin');\n  }\n\n  get layout(): any {\n    return this.get('layout');\n  }\n\n  get auth(): any {\n    return this.get('auth');\n  }\n}\n\nParse.Object.registerSubclass('AppConfig', AppConfigService);"]}